% easychair.tex,v 3.5 2017/03/15

\documentclass{easychair}
%\documentclass[EPiC]{easychair}
%\documentclass[EPiCempty]{easychair}
%\documentclass[debug]{easychair}
%\documentclass[verbose]{easychair}
%\documentclass[notimes]{easychair}
%\documentclass[withtimes]{easychair}
%\documentclass[a4paper]{easychair}
%\documentclass[letterpaper]{easychair}

\usepackage{doc}

%%%% For Alectryon

\usepackage{texments}
%%% for movies by alectryon
\usepackage{../movies/snippets/assets/alectryon}
\usepackage{../movies/snippets/assets/pygments}
%%% One hypothesis per line 
\makeatletter
\renewcommand{\alectryon@hyps@sep}{\alectryon@nl}
\makeatother

%%% \snippets{A,B,C,…} inputs a series of snippets as one block (with \itemsep
%%% between them).  A, B, C should be paths to files in movies/snippets/.
\usepackage{etoolbox}
\makeatletter
\newcommand{\inputsnippets}[1]
  {{\setlength{\itemsep}{1pt}\setlength{\parsep}{0pt}% Adjust spacing
    \alectryon@copymacros\begin{io}
      \forcsvlist{\item\@inputsnippet}{#1}
    \end{io}}}
\let\input@old\input % Save definition of \input
\newcommand{\@inputsnippet}[1]
  {{\renewenvironment{alectryon}{}{}% Skip \begin{alectryon} included in snippet
    \input@old{../movies/snippets/#1}}}
\makeatother

% use this if you have a long article and want to create an index
% \usepackage{makeidx}

% In order to save space or manage large tables or figures in a
% landcape-like text, you can use the rotating and pdflscape
% packages. Uncomment the desired from the below.
%
% \usepackage{rotating}
% \usepackage{pdflscape}

% Some of our commands for this guide.
%
\newcommand{\easychair}{\textsf{easychair}}
\newcommand{\miktex}{MiK{\TeX}}
\newcommand{\texniccenter}{{\TeX}nicCenter}
\newcommand{\makefile}{\texttt{Makefile}}
\newcommand{\latexeditor}{LEd}

%\makeindex

%% Front Matter
%%
% Regular title as in the article class.
%
\title{Hydras and Cie \\
  Variations on Kirby \& Paris' hydra battles and other entertaining math in Coq}
 


\author{
Pierre Castéran \inst{1}
\and
    Jérémy Damour %\inst{2}
\and
Karl Palmskog %\inst{3}
\and Clément Pit-Claudel %\inst{4}
\and Théo Zimmermann %\inst{5}
}


\institute{
 LaBRI, Université Bordeaux \\
  \email{pierre.casteran@labri.fr}
\and
   University of Miami,
   Miami, Florida, U.S.A.\\
   \email{geoff@cs.miami.edu}\\
\and
   University of Manchester,
   Manchester, U.K.\\
   \email{andrei@voronkov.com}\\
\and
   Chalmers University of Technology,
   Gothenburg, Sweden
\and
   EasyChair
 }



\authorrunning{Castéran, Damour, Palmskog, Pit-Claudel and Zimmermann}

\titlerunning{Hydras and Cie}

\begin{document}

\maketitle


\begin{abstract}
  We present the evolution of our library \cite{HydraBattles}
since \cite{JFLA2018paper}
\end{abstract}


\setcounter{tocdepth}{2}
{\small
\tableofcontents}


%------------------------------------------------------------------------------
\section{Introduction}
\label{sect:introduction}
Hydra games (a.k.a. \emph{Hydra battles}) appear in an article published in 1982 by two mathematicians:
L. Kirby and J. Paris~\cite{KP82}: \emph{Accessible Independence Results for Peano Arithmetic}. 
Although the mathematical contents of this 
paper are quite advanced, the rules of hydra battles are very easy to understand. There are now several sites on the Internet where you can find tutorials on hydra games, together with simulators you can play with. See, for instance, the blogpost and source code written by Andrej Bauer~\cite{bauer2008,BauerHydra}.

Hydra battles have already been presented in
JFLA2018~\cite{JFLA2018paper}. We present the recent evolution of the library: new results, interaction within the Coq-community project, and documentation generated with Alectryon. 


\section{New contents}
Length of usually considered battles.
They correspond to the notions of canonical sequences and large sets in \cite{KS81}.


\section{Documentation with Alectryon}

We present two ~examples of the documentation generated with Alectryon~\cite{alectryonpaper}: A simple proof by computation (Fig.~\ref{fig:Ex42E0}), and a longer proof where only the main steps are displayed, interleaved with plain text.

  \begin{figure}[h]
    \centering
    \fbox{
      \begin{minipage}[h]{1.0\linewidth}
        \inputsnippets{E0/Ex42}
      \end{minipage}}
    \caption{A simple proof by computation}
    \label{fig:Ex42E0}
  \end{figure}
\label{Ex42-E0}.



\begin{figure}[ph]
  \centering
  
  
\label{Ex42-schutte}
\fbox{\begin{minipage}[h]{1.0\linewidth}
  Let us prove again the equality $\omega+42+\omega^2= \omega^2$.Let us recall that $\omega^2$ is an abbreviation of $\phi_0(2)$,
\emph{i.e} the third  additive principal ordinal.

\inputsnippets{Schutte/Ex42a}


Our proof is very different from the computational proof of Fig\ref{fig:Ex42E0}.
By definition of additive principal ordinals, 
it suffices to prove the inequality $\omega+42< \phi_0(2)$ to get the equality we want to prove.

\inputsnippets{Schutte/Ex42b}

Since the set \texttt{AP} of additive principals  is closed under addition
(by Lemma \texttt{AP\_plus\_closed}, it suffices to prove the inequalities $\omega<\phi_0(2)$ and $42<\phi_0(2)$.

\inputsnippets{Schutte/Ex42c, Schutte/Ex42d}

\end{minipage}
}
\caption{A proof interleaved with text (from the book)}
  \label{fig:Ex42b}
\end{figure}

\section{Perspectives}
The Gaia project~\cite{Gaia}, also maintained on \texttt{Coq-community} contains a development by José Grimm~\cite{grimm:hal-00911710}. This library -- dedicated  to the implementaion in \textit{Coq (SSreflect)} of books from  Bourbaki's Elements of Mathematics --- contains a generalization of two types of ordinals (\texttt{T1} for the ordinal $\epsilon_0$ and
\texttt{T2} for $\Gamma_0$) to a larger ordinal defined by Ackermann, and relates these data structures with Bourbaki's set theory.
It is interesting to note that both libraries \texttt{Gaia} and \texttt{hydra-battles} contain their own (isomorphic) definitions of
\texttt{T1} and \texttt{T2}, originated in~\cite{CantorContrib}.
The types --- defined in different modules --- cannot be considered as equal. Even more, some operations like addition, multiplication, etc. have now different definitions.

It would be interesting to build a library which could be used as a gate giving access to both the combinatorial results of \texttt{hydra-battles} and the set-theoretic content of \texttt{Gaia}.
For instance, the associativity of multiplication of ordinals below $\epsilon_0$, already proven in \texttt{Gaia} could be tranferred ``for free'' to the data structures of \texttt{hydra-battles}, thanks to the isomorphism between both implementations.



\section{Acknowledgments}
\label{sect:acks}



\label{sect:bib}
\bibliographystyle{plain}
%\bibliographystyle{alpha}
%\bibliographystyle{unsrt}
%\bibliographystyle{abbrv}
\bibliography{../thebib}


\end{document}

